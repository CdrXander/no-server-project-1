{"version":3,"sources":["app.js","controllers/detailCtrl.js","controllers/mainCtrl.js","controllers/searchCtrl.js","controllers/shelfCtrl.js","services/localStorageService.js","services/omdbService.js","coverDir.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","$scope","$stateParams","omdbService","getMovieDetails","id","then","serviceData","movie","console","log","test","localStorageService","searchForMovie","searchTitle","movies","loadMovieData","ownedMovies","watchMovies","savedMovies","getSavedMovies","i","length","own","push","watch","clearShelves","service","LOCAL_STORAGE_NAME","testData","imdbID","Year","Rated","Title","Poster","localMovieData","localStorage","movieList","JSON","parse","getItem","saveMovie","movieObj","index","findIndex","element","undefined","setItem","stringify","deleteMovie","movieId","splice","removeItem","$http","$q","title","deferred","defer","get","success","response","searchResults","Search","resolve","promise","directive","coverController","addMovieToOwned","localMovie","reload","addMovieToWatch","restrict","scope"],"mappings":"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","file":"bundle.js","sourcesContent":["/*\r\n*\r\n*/\r\nangular.module('movieShelf', ['ui.router']).config(function($stateProvider, $urlRouterProvider) {\r\n\t\r\n\r\n\t$stateProvider\r\n\t\t.state('home', {\r\n\t\t\turl: '/',\r\n\t\t\ttemplateUrl: './views/shelf.html',\r\n\t\t\tcontroller: 'shelfCtrl'\r\n\t\t})\r\n\t\t.state('search', {\r\n\t\t\turl: '/search',\r\n\t\t\ttemplateUrl: './views/search.html',\r\n\t\t\tcontroller: 'searchCtrl'\r\n\t\t})\r\n\t\t.state('details', {\r\n\t\t\turl: '/details/:id',\r\n\t\t\ttemplateUrl: './views/detail.html',\r\n\t\t\tcontroller: 'detailCtrl'\r\n\t\t})\r\n\r\n});\r\n","angular.module('movieShelf')\r\n.controller('detailCtrl', function($scope, $stateParams, omdbService) {\r\n\r\n\tomdbService.getMovieDetails($stateParams.id).then(function(serviceData) {\r\n\t\t$scope.movie = serviceData;\r\n\t\tconsole.log($scope.movie);\r\n\t});\r\n\r\n})","angular.module('movieShelf').controller('mainCtrl', function($scope) {\r\n\t$scope.test = \"Test Main Ctrl\";\r\n})","angular.module('movieShelf').controller('searchCtrl', function($scope, omdbService, localStorageService) {\r\n\t$scope.test = \"Test Search Ctrl\";\r\n\r\n\r\n\t$scope.searchForMovie = function() {\r\n\t\tomdbService.searchForMovie($scope.searchTitle).then(function(serviceData) {\r\n\t\t\t$scope.movies = serviceData;\r\n\t\t\tconsole.log($scope.movies);\r\n\t\t})\r\n\t}\r\n});","angular.module('movieShelf')\r\n.controller('shelfCtrl', function($scope, omdbService, localStorageService) {\r\n\t\r\n\r\n\r\n\t//Load the extended film data asynchronously\r\n\t// var mergeData = function(localMovie) {\r\n\t// \tomdbService.getMovieDetails(localMovie.id).then(function(omdbMovie) {\r\n\t// \t\tvar fullMovie = {};\r\n\t// \t\tjQuery.extend(fullMovie, localMovie, omdbMovie);\r\n\t// \t\tif(fullMovie.own === true) {\r\n\t// \t\t$scope.ownedMovies.push(fullMovie);\r\n\t// \t\t}\r\n\t// \t\tif(fullMovie.watch === true) {\r\n\t// \t\t\t$scope.watchMovies.push(fullMovie);\r\n\t// \t\t}\r\n\t// \t})\r\n\t// }\r\n\r\n\t//Initial load\r\n\t$scope.loadMovieData = function() {\r\n\t\t$scope.ownedMovies = [];\r\n\t\t$scope.watchMovies = [];\r\n\r\n\t\tvar savedMovies = localStorageService.getSavedMovies();\r\n\t\tfor(var i = 0; i < savedMovies.length; i++) {\r\n\t\t\tif(savedMovies[i].own === true) {\r\n\t\t\t$scope.ownedMovies.push(savedMovies[i]);\r\n\t\t\t}\r\n\t\t\tif(savedMovies[i].watch === true) {\r\n\t\t\t\t$scope.watchMovies.push(savedMovies[i]);\r\n\t\t\t}\r\n\r\n//\t\t\tmergeData(savedMovies[i]);\r\n\t\t}\r\n\t}\r\n\t$scope.loadMovieData();\r\n\r\n\r\n\t$scope.clearShelves = function() {\r\n\t\tlocalStorageService.clearShelves();\r\n\t\t$scope.loadMovieData();\r\n\t}\r\n\r\n});","angular.module('movieShelf').service('localStorageService', function(omdbService){\r\n  \r\n\tvar LOCAL_STORAGE_NAME = \"movieList\";\r\n\r\n\tvar testData = [\r\n\t\t\t\t\t\t{imdbID:'tt0080684',Year:1980, own:true, watch:false,Rated:\"PG\",Title:\"Star Wars: Episode V - The Empire Strikes Back\", Poster:\"https://images-na.ssl-images-amazon.com/images/M/MV5BYmViY2M2MTYtY2MzOS00YjQ1LWIzYmEtOTBiNjhlMGM0NjZjXkEyXkFqcGdeQXVyNDYyMDk5MTU@._V1_SX300.jpg\"},\r\n\t\t\t\t\t\t{imdbID:'tt0848228',Year:2012, own:true, watch:false,Rated:\"PG-13\",Title:\"The Avengers\",Poster:\"https://images-na.ssl-images-amazon.com/images/M/MV5BMTk2NTI1MTU4N15BMl5BanBnXkFtZTcwODg0OTY0Nw@@._V1_SX300.jpg\"},\r\n\t\t\t\t\t\t{imdbID:'tt1663662',Year:2013, own:true, watch:true,Rated:\"PG-13\",Title:\"Pacific Rim\",Poster:\"https://images-na.ssl-images-amazon.com/images/M/MV5BMTY3MTI5NjQ4Nl5BMl5BanBnXkFtZTcwOTU1OTU0OQ@@._V1_SX300.jpg\"},\r\n\t\t\t\t\t\t{imdbID:'tt1675434',Year:2011, own:true, watch:true,Rated:\"R\",Title:\"The Intouchables\",Poster:\"https://images-na.ssl-images-amazon.com/images/M/MV5BMTYxNDA3MDQwNl5BMl5BanBnXkFtZTcwNTU4Mzc1Nw@@._V1_SX300.jpg\"},\r\n\t\t\t\t\t\t{imdbID:'tt0360717',Year:2005, own:false, watch:true,Rated:\"PG-13\",Title:\"King Kong\",Poster:\"https://images-na.ssl-images-amazon.com/images/M/MV5BMjYxYmRlZWYtMzAwNC00MDA1LWJjNTItOTBjMzlhNGMzYzk3XkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg\"},\r\n\t\t\t\t\t\t{imdbID:'tt0108052',Year:1993, own:false, watch:true,Rated:\"R\",Title:\"Schindler's List\",Poster:\"https://images-na.ssl-images-amazon.com/images/M/MV5BMzMwMTM4MDU2N15BMl5BanBnXkFtZTgwMzQ0MjMxMDE@._V1_SX300.jpg\"}\r\n\t\t\t\t\t]\r\n\r\n\t//GET SAVED MOVIES - public end point to get all saved movies\r\n\tthis.getSavedMovies = function() {\r\n\t\treturn loadMovieData();\r\n\t}\r\n\r\n\t//LOAD MOVIE DATA - Load movie data from local storage\r\n\tvar loadMovieData = function() {\r\n\t\tvar localMovieData;\r\n\t\tif(localStorage.movieList) {\r\n\t\t\tlocalMovieData = JSON.parse(localStorage.getItem(LOCAL_STORAGE_NAME));\r\n\t\t} else {\r\n\t\t\t//TODO: CHANGE FOR PROD\r\n\t\t\tlocalMovieData = testData;\r\n\r\n\t\t}\r\n\t\treturn localMovieData;\r\n\t}\r\n\r\n\t//SAVE MOVIE - save a movie object to local local storage \t=\t=\r\n\tthis.saveMovie = function(movieObj) {\r\n\t\t//Get the local movie data\r\n\t\tvar localMovieData = loadMovieData();\r\n\r\n\t\t//if id exists in array, update it\r\n\t\tvar index = localMovieData.findIndex(function(element) {\r\n\t\t\treturn element.imdbID == movieObj.imdbID;\r\n\t\t})\r\n\r\n\t\tif(index > 0) {\r\n\t\t\tif(movieObj.own != undefined) {\r\n\t\t\t\tlocalMovieData[index].own = movieObj.own;\r\n\t\t\t}\r\n\t\t\tif(movieObj.watch != undefined) {\r\n\t\t\t\tlocalMovieData[index].watch = movieObj.watch;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tlocalMovieData.push(movieObj);\r\n\t\t}\r\n\r\n\t\t//Finally, save the data to local storage\r\n\t\tlocalStorage.setItem(LOCAL_STORAGE_NAME, JSON.stringify(localMovieData));\r\n\r\n\t}\r\n\r\n\t//DELETE MOVIE - remove movie by movieId\t=\t=\t=\r\n\tthis.deleteMovie = function(movieId) {\r\n\t\t//Get the local movie data\r\n\t\tvar localMovieData = loadMovieData();\r\n\t\t//find the id in the array\r\n\t\tvar index = localMovieData.findIndex(function(element) {\r\n\t\t\telement.id = movieObj.id;\r\n\t\t})\r\n\t\tif(index > 0) {\r\n\t\t\tlocalMovieData.splice(index, 1);\r\n\t\t\tlocalStorage.setItem(LOCAL_STORAGE_NAME, JSON.stringify(localMovieData));\r\n\t\t}\r\n\t}\r\n\r\n\t//CLEAR SHELVES - remove all movieShelf\t\t=\t=\t=\r\n\tthis.clearShelves = function() {\r\n\t\tlocalStorage.removeItem(LOCAL_STORAGE_NAME);\r\n\t}\r\n\r\n\r\n});","angular.module('movieShelf').service('omdbService', function($http, $q){\r\n  \r\n    //Acquire results for a movie search\r\n    this.searchForMovie = function(title) {\r\n      var deferred = $q.defer();\r\n\r\n      var url = 'http://www.omdbapi.com/?s=' + title +'&page=1';\r\n      $http.get(url)\r\n        .success(function(response) {\r\n          var searchResults = response.Search;\r\n          deferred.resolve(searchResults);\r\n        })\r\n        return deferred.promise;\r\n    } \r\n\r\n    //Get specific details for a single movie\r\n    this.getMovieDetails = function(id) {\r\n      var deferred = $q.defer();\r\n\r\n      var url = \"http://www.omdbapi.com/?i=\" + id + \"&plot=full&r=json&tomatoes=true\";\r\n\r\n      $http.get(url)\r\n        .success(function(response) {\r\n          deferred.resolve(response);\r\n        })\r\n        return deferred.promise;\r\n    }\r\n});","angular.module('movieShelf').directive('movieDisplay', function(){\r\n\t\r\n\tvar coverController = ['$scope', 'localStorageService', function($scope, localStorageService) {\r\n\t\t//Add a film to the Owned_Movies array\r\n\t\t$scope.addMovieToOwned = function(movie) {\r\n\t\t\tmovie.own = !!movie.own;\t\t//To deal w/ undefined on initial load\r\n\t\t\tvar localMovie = {\r\n\t\t\t\timdbID:movie.imdbID,\r\n\t\t\t\tTitle:movie.Title,\r\n\t\t\t\tPoster:movie.Poster,\r\n\t\t\t\tYear:movie.Year,\r\n\t\t\t\town:!movie.own\r\n\t\t\t}\r\n\t\t\tlocalStorageService.saveMovie(localMovie);\r\n\t\t\t$scope.reload();\r\n\t\t}\r\n\r\n\t\t//Add a film to the To_Watch_Movies array \r\n\t\t$scope.addMovieToWatch = function(movie) {\r\n\t\t\tmovie.watch = !!movie.watch;\t//To deal w/ undefined on initial load\r\n\t\t\tvar localMovie = {\r\n\t\t\t\timdbID:movie.imdbID,\r\n\t\t\t\tTitle:movie.Title,\r\n\t\t\t\tPoster:movie.Poster,\r\n\t\t\t\tYear:movie.Year,\r\n\t\t\t\twatch:!movie.watch\r\n\t\t\t}\r\n\t\t\tlocalStorageService.saveMovie(localMovie);\r\n\t\t\t$scope.reload();\r\n\t\t\r\n\t\t}\r\n\r\n\t\r\n\t}]\r\n\r\n\treturn {\r\n\t\trestrict: \"E\",\r\n\t\ttemplateUrl: './directives/coverDir.html',\r\n\t\tscope: {\r\n\t\t\tmovies: '=',\r\n\t\t\treload: '&'\r\n\t\t},\r\n\t\tcontroller: coverController\r\n\t}\r\n})"]}